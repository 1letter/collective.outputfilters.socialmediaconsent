let SHOW="1",HIDE="0",Consent={youtube:{value:HIDE,name:"cos-youtube-consent",cbx:"check-youtube"},third_party:{value:HIDE,name:"cos-thirdparty-consent",cbx:"check-thirdparty"}};function cos_init(e){cookiehandling(),update_markup()}function cookiehandling(){let e=document.querySelectorAll("input.socialmedia-consent-check");e.forEach(e=>{e.addEventListener("click",set_consent)}),Object.keys(Consent).forEach(t=>{document.cookie.split(";").some(e=>e.trim().startsWith(Consent[t].name+"="))?document.cookie.split(";").some(e=>e.includes(Consent[t].name+"="+SHOW))?Consent[t].value=SHOW:Consent[t].value=HIDE:(Consent[t].value=HIDE,document.cookie=Consent[t].name+"="+HIDE+";Secure;path=/"),e.forEach(e=>{e.id==Consent[t].cbx&&Consent[t].value==SHOW&&(e.checked=!0),e.id==Consent[t].cbx&&Consent[t].value==HIDE&&(e.checked=!1)})})}function set_consent(e){let t=e.target.id,n=e.target.checked;Object.keys(Consent).forEach(e=>{t==Consent[e].cbx&&(!0===n?show:hide)(Consent[e])}),update_markup()}function show(e){e.value=SHOW,document.cookie=e.name+"="+e.value+";Secure;path=/"}function hide(e){e.value=HIDE,document.cookie=e.name+"="+e.value+";Secure;path=/"}function update_markup(){document.querySelectorAll("div[data-cos]").forEach(t=>{let n=JSON.parse(t.dataset.cos),o=t.innerHTML,c=n.markup,a=n.consent;Object.keys(Consent).forEach(e=>{e==a&&Consent[e].value==SHOW&&(t.innerHTML=c,n.markup=o)}),document.querySelectorAll('[type="text/plain"]').forEach(e=>{"script"==e.tagName.toLowerCase()&&(e.setAttribute("type","text/javascript"),e.defer=!0,console.log(e),console.dir(window))})})}function parseHTML(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild}window.addEventListener("load",cos_init);